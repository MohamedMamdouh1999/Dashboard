<app-table-head [organizationStructure]="true" [title]="'usersManagement.structureManagement.structureManagement'"></app-table-head>
<button class="btn add-btn" (click)="visible = !visible" translate="usersManagement.structureManagement.addOrganization">
  <i class="fa-solid fa-plus"></i>
</button>
<p-dialog [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }" [breakpoints]="{ '960px': '75vw' }" [draggable]="false" [resizable]="false">
  <form [formGroup]="usersManagement" (ngSubmit)="submitForm(usersManagement)" #form="ngForm">
    <div class="form-group mb-3">
      <app-select-input formGroupName="typeGroup" [formName]="'type'"  [id]="'organizationType'" [label]="'usersManagement.structureManagement.form.organizationType'"></app-select-input>
      <p *ngIf="form.submitted && usersManagement.get('typeGroup')?.get('type')?.errors" class="text-danger mb-3" translate="usersManagement.structureManagement.form.errors.required"></p>
    </div>
    <div class="form-group mb-3">
      <app-text-input formGroupName="nameArGroup" [formName]="'nameAr'" [type]="'text'" [id]="'organizationNameAr'" [label]="'usersManagement.structureManagement.form.nameAr'"></app-text-input>
      <div *ngIf="form.submitted || (usersManagement.get('nameArGroup')?.get('nameAr')?.errors && usersManagement.get('nameArGroup')?.get('nameAr')?.touched)" class="text-danger mb-3">
        <p *ngIf="form.submitted && usersManagement.get('nameArGroup')?.get('nameAr')?.getError('required')" class="mb-0" translate="usersManagement.structureManagement.form.errors.required"></p>
        <p *ngIf="usersManagement.get('nameArGroup')?.get('nameAr')?.getError('pattern')" class="mb-0" translate="usersManagement.structureManagement.form.errors.patternAr"></p>
      </div>
    </div>
    <div class="form-group mb-3">
      <app-text-input formGroupName="nameEnGroup" [formName]="'nameEn'" [type]="'text'" [id]="'organizationNameEn'" [label]="'usersManagement.structureManagement.form.nameEn'"></app-text-input>
      <div *ngIf="form.submitted || (usersManagement.get('nameEnGroup')?.get('nameEn')?.errors && usersManagement.get('nameEnGroup')?.get('nameEn')?.touched)" class="text-danger mb-3">
        <p *ngIf="form.submitted && usersManagement.get('nameEnGroup')?.get('nameEn')?.getError('required')" class="mb-0" translate="usersManagement.structureManagement.form.errors.required"></p>
        <p *ngIf="usersManagement.get('nameEnGroup')?.get('nameEn')?.getError('pattern')" class="mb-0" translate="usersManagement.structureManagement.form.errors.patternEn"></p>
      </div>
    </div>
    <div class="form-group mb-3">
      <app-text-area-input formGroupName="descriptionGroup" [formName]="'description'" [id]="'organizationDescription'" [label]="'usersManagement.structureManagement.form.description'"></app-text-area-input>
    </div>
    <div class="d-flex flex-wrap align-items-center justify-content-between">
      <button type="submit" class="btn btn-success shadow-none border-0" translate="usersManagement.structureManagement.form.save"></button>
      <button (click)="visible = false; form.reset(null)" class="btn btn-danger shadow-none border-0" translate="usersManagement.structureManagement.form.cancel"></button>
    </div>
  </form>
</p-dialog>
